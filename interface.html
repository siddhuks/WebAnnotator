<!DOCTYPE html>
<html>

<head>
    <title>Music File Upload</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript" src="https://cdn.canvasjs.com/canvasjs.min.js" defer></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/0.7.7/chartjs-plugin-zoom.min.js" defer></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-dragdata@latest" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-dragdata@2.2.3/dist/chartjs-plugin-dragdata.min.js" defer></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.7/chartjs-plugin-annotation.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.js"></script>


</head>

<body>

    <body onpageshow="refreshOnBack(event)"></body>
    <div class="main-container">
        <div class="file-upload-row">
            <h1>Upload music/csv files</h1>
            <input type="file" id="fileInput" accept="audio/*,.csv" multiple />
            <button id="showChartButton">Upload</button>
            <div id="fileNames"></div>
            <select id="fileSelector"></select>
            <option value="0"></option>
            </select>
            <button id="reset">Reset Zoom</button>
            <button id="saveCsvButton">Save CSV</button>
            <label for="annotationXValue">Add Annotation at X (seconds):</label>
            <input type="number" id="annotationXValue" step="0.01">
            <button id="addAnnotationButton">Add Annotation</button>
            <label for="deleteToggle">Delete Annotation</label>
            <input type="checkbox" id="deleteToggle">
            <label for="showSpectrogram">Show Spectrogram</label>
            <input type="checkbox" id="showSpectrogram">
        </div>
        <div class="chart-section">
            <div id="spectrogramMessageContainer" style="color:red;"></div>
            <canvas id="chartContainer" class="chart-container">
                <!-- <div class="spinner" id="chartSpinner"></div> -->
            </canvas>
            <div id="p5SketchContainer" class="chart-container" style="display: none">
                <!-- <div class="spinner" id="p5Spinner"></div> -->
            </div>
            <audio id="audioPlayer" controls style="display: none;">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>